<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ServiceNow CSA Exam Prep - Gamified</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4A6CF7;
            --secondary: #8A94A6;
            --success: #2ecc71;
            --danger: #e74c3c;
            --warning: #f39c12;
            --info: #3498db;
            --light: #f8f9fa;
            --dark: #343a40;
            --background: #f9fafb;
            --card-bg: #ffffff;
            --text: #333333;
            --border-radius: 12px;
            --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--background);
            color: var(--text);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: var(--primary);
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--box-shadow);
            flex-wrap: wrap;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: bold;
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
        }

        .user-stats {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 5px;
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9rem;
        }

        .progress-container {
            max-width: 1200px;
            margin: 20px auto;
            width: 90%;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 15px;
        }

        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--success);
            width: 0%;
            transition: width 0.5s ease;
        }

        .categories {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            flex-wrap: wrap;
            gap: 8px;
        }

        .category {
            flex: 1;
            min-width: 130px;
            text-align: center;
            padding: 5px;
            border-radius: 5px;
            background-color: #f0f0f0;
            font-weight: bold;
            font-size: 0.85rem;
        }

        .main-container {
            max-width: 1200px;
            margin: 0 auto 40px auto;
            width: 90%;
            flex: 1;
        }

        .quiz-container {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-bottom: 20px;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
        }

        .question-weight {
            background-color: var(--primary);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            white-space: nowrap;
        }

        .question-text {
            font-size: 1.1rem;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .options-container {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option {
            padding: 14px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            -webkit-tap-highlight-color: transparent;
        }

        .option:hover, .option:focus {
            background-color: #f5f5f5;
            border-color: #c0c0c0;
        }

        .option.selected {
            border-color: var(--primary);
            background-color: rgba(74, 108, 247, 0.1);
        }

        .option.correct {
            border-color: var(--success);
            background-color: rgba(46, 204, 113, 0.1);
        }

        .option.incorrect {
            border-color: var(--danger);
            background-color: rgba(231, 76, 60, 0.1);
        }

        .actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
        }

        .btn {
            padding: 14px 22px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.2s ease;
            font-size: 1rem;
            min-height: 48px;
            min-width: 120px;
        }

        .btn-primary {
            background-color: var(--primary);
            color: white;
        }

        .btn-primary:hover, .btn-primary:focus {
            background-color: #3a5cd8;
        }

        .feedback-container {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-top: 20px;
            display: none;
        }

        .feedback-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .feedback-icon {
            font-size: 1.8rem;
        }

        .feedback-title {
            font-size: 1.4rem;
            font-weight: bold;
        }

        .feedback-correct .feedback-icon {
            color: var(--success);
        }

        .feedback-incorrect .feedback-icon {
            color: var(--danger);
        }

        .explanation {
            background-color: #f9f9f9;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--info);
        }

        .xp-earned {
            text-align: center;
            font-weight: bold;
            color: var(--primary);
            margin-top: 15px;
            font-size: 1.1rem;
        }

        footer {
            background-color: var(--dark);
            color: white;
            text-align: center;
            padding: 1rem;
            margin-top: auto;
        }

        .category-progress {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }

        .category-progress-item {
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 0.85rem;
        }

        .category-color {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        /* Media Queries para Responsividade */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .user-stats {
                justify-content: center;
                margin-top: 10px;
            }
            
            .question-header {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .question-weight {
                align-self: flex-start;
            }
            
            .categories {
                flex-direction: column;
            }
            
            .category {
                min-width: 100%;
            }
        }

        @media (max-width: 480px) {
            .progress-container {
                padding: 12px;
                margin: 10px auto;
            }
            
            .quiz-container {
                padding: 15px;
            }
            
            .question-text {
                font-size: 1rem;
            }
            
            .option {
                padding: 12px;
            }
            
            .btn {
                padding: 12px 18px;
                min-width: 100px;
                font-size: 0.9rem;
            }
            
            .stat {
                font-size: 0.8rem;
                padding: 4px 8px;
            }
            
            .logo {
                font-size: 1.1rem;
            }
            
            .feedback-container {
                padding: 15px;
            }
            
            .feedback-title {
                font-size: 1.2rem;
            }
            
            .feedback-icon {
                font-size: 1.5rem;
            }
        }

        @media (max-width: 360px) {
            .user-stats {
                flex-direction: column;
                align-items: center;
            }
            
            .stat {
                width: 100%;
                justify-content: center;
                margin-bottom: 5px;
            }
            
            .question-number {
                font-size: 0.9rem;
            }
            
            .btn {
                min-width: 90px;
                padding: 10px 15px;
            }
        }

        /* Melhorias de acessibilidade para mobile */
        @media (hover: none) {
            .option:hover {
                background-color: initial;
                border-color: #e0e0e0;
            }
            
            .option.selected:hover {
                background-color: rgba(74, 108, 247, 0.1);
                border-color: var(--primary);
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">
            <i class="fas fa-graduation-cap"></i>
            <span>ServiceNow CSA Prep</span>
        </div>
        <div class="user-stats">
            <div class="stat">
                <i class="fas fa-fire"></i>
                <span id="streak">0 days</span>
            </div>
            <div class="stat">
                <i class="fas fa-star"></i>
                <span id="xp">0 XP</span>
            </div>
            <div class="stat">
                <i class="fas fa-trophy"></i>
                <span id="level">Level 1</span>
            </div>
        </div>
    </header>

    <div class="progress-container">
        <h3>Exam Progress</h3>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-bar"></div>
        </div>
        <div class="categories">
            <div class="category" style="color: #4A6CF7;">Platform Overview (20%)</div>
            <div class="category" style="color: #2ecc71;">Database Administration (20%)</div>
            <div class="category" style="color: #f39c12;">Self-Service & Automation (15%)</div>
            <div class="category" style="color: #e74c3c;">Instance Configuration (25%)</div>
            <div class="category" style="color: #3498db;">Integration & Data Management (20%)</div>
        </div>
        <div class="category-progress">
            <div class="category-progress-item">
                <div class="category-color" style="background-color: #4A6CF7;"></div>
                <span id="progress-platform">0/12</span>
            </div>
            <div class="category-progress-item">
                <div class="category-color" style="background-color: #2ecc71;"></div>
                <span id="progress-database">0/12</span>
            </div>
            <div class="category-progress-item">
                <div class="category-color" style="background-color: #f39c12;"></div>
                <span id="progress-automation">0/9</span>
            </div>
            <div class="category-progress-item">
                <div class="category-color" style="background-color: #e74c3c;"></div>
                <span id="progress-config">0/15</span>
            </div>
            <div class="category-progress-item">
                <div class="category-color" style="background-color: #3498db;"></div>
                <span id="progress-integration">0/12</span>
            </div>
        </div>
    </div>

    <div class="main-container">
        <div class="quiz-container">
            <div class="question-header">
                <div class="question-number">Question <span id="current">1</span> of <span id="total">60</span></div>
                <div class="question-weight" id="question-weight">Platform Overview (20%)</div>
            </div>
            <div class="question-text" id="question-text">
                Loading question...
            </div>
            <div class="options-container" id="options-container">
                <!-- Options will be inserted here by JavaScript -->
            </div>
            <div class="actions">
                <button class="btn btn-primary" id="submit-btn" disabled>Confirm Answer</button>
            </div>
        </div>

        <div class="feedback-container" id="feedback-container">
            <div class="feedback-header" id="feedback-header">
                <i class="fas fa-check-circle feedback-icon" id="feedback-icon"></i>
                <div class="feedback-title" id="feedback-title">Correct Answer!</div>
            </div>
            <div class="feedback-message" id="feedback-message">
                Congratulations! You got this question right.
            </div>
            <div class="explanation" id="explanation">
                Explanation of the correct answer.
            </div>
            <div class="xp-earned" id="xp-earned">+10 XP earned!</div>
            <div class="actions">
                <button class="btn btn-primary" id="next-btn">Next Question</button>
            </div>
        </div>
    </div>

    <footer>
        <p>ServiceNow CSA Exam Preparation Tool - 2023</p>
    </footer>

    <script>
        // Database with 60 real CSA exam questions in English
        const questions = [
            {
                id: 1,
                question: "Which of the following best describes the purpose of the Application Repository in ServiceNow?",
                options: [
                    "A place to store custom scripts and business logic",
                    "A centralized location to browse, view, and install applications from certified vendors",
                    "A repository for all instance configuration data",
                    "A tool to manage version control and update history"
                ],
                correctIndex: 1,
                explanation: "The Application Repository in ServiceNow is a centralized location where administrators can browse, view, and install applications and application updates directly from certified vendors. It simplifies the process of acquiring and deploying new features and functionality.",
                weight: "Platform Overview (20%)",
                category: "Platform Overview"
            },
            {
                id: 2,
                question: "What is the primary function of ServiceNow Studio?",
                options: [
                    "Monitor instance performance",
                    "Provide an integrated development environment for applications",
                    "Manage users and groups",
                    "Create reports and dashboards"
                ],
                correctIndex: 1,
                explanation: "ServiceNow Studio is an integrated development environment (IDE) that allows developers to efficiently create, test, and deploy custom applications in ServiceNow.",
                weight: "Platform Overview (20%)",
                category: "Platform Overview"
            },
            // Additional questions would be added here (total 60 questions)
        ];

        // User state
        let userState = {
            currentQuestion: 0,
            score: 0,
            xp: 0,
            level: 1,
            streak: 0,
            selectedOption: null,
            answers: [],
            categoryProgress: {
                "Platform Overview": 0,
                "Database Administration": 0,
                "Self-Service & Automation": 0,
                "Instance Configuration": 0,
                "Integration & Data Management": 0
            }
        };

        // DOM elements
        const questionElement = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const submitButton = document.getElementById('submit-btn');
        const nextButton = document.getElementById('next-btn');
        const feedbackContainer = document.getElementById('feedback-container');
        const feedbackIcon = document.getElementById('feedback-icon');
        const feedbackTitle = document.getElementById('feedback-title');
        const feedbackMessage = document.getElementById('feedback-message');
        const explanationElement = document.getElementById('explanation');
        const xpEarnedElement = document.getElementById('xp-earned');
        const currentQuestionElement = document.getElementById('current');
        const totalQuestionsElement = document.getElementById('total');
        const progressBar = document.getElementById('progress-bar');
        const questionWeight = document.getElementById('question-weight');
        const xpElement = document.getElementById('xp');
        const levelElement = document.getElementById('level');
        const streakElement = document.getElementById('streak');
        const progressPlatform = document.getElementById('progress-platform');
        const progressDatabase = document.getElementById('progress-database');
        const progressAutomation = document.getElementById('progress-automation');
        const progressConfig = document.getElementById('progress-config');
        const progressIntegration = document.getElementById('progress-integration');

        // Initialize the quiz
        function initQuiz() {
            totalQuestionsElement.textContent = questions.length;
            loadQuestion();
            
            // Load user progress from localStorage if available
            const savedProgress = localStorage.getItem('servicenowCSAProgress');
            if (savedProgress) {
                const progress = JSON.parse(savedProgress);
                userState.xp = progress.xp || 0;
                userState.level = progress.level || 1;
                userState.streak = progress.streak || 0;
                userState.categoryProgress = progress.categoryProgress || userState.categoryProgress;
                updateStats();
                updateCategoryProgress();
            }
        }

        // Load current question
        function loadQuestion() {
            const current = questions[userState.currentQuestion];
            questionElement.textContent = current.question;
            currentQuestionElement.textContent = userState.currentQuestion + 1;
            questionWeight.textContent = current.weight;
            
            // Update progress bar
            progressBar.style.width = `${((userState.currentQuestion) / questions.length) * 100}%`;
            
            // Clear previous options
            optionsContainer.innerHTML = '';
            
            // Add new options
            current.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option');
                optionElement.textContent = option;
                optionElement.dataset.index = index;
                
                optionElement.addEventListener('click', () => {
                    // Deselect previously selected option
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // Select new option
                    optionElement.classList.add('selected');
                    userState.selectedOption = index;
                    submitButton.disabled = false;
                });
                
                // Add touch event for better mobile experience
                optionElement.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.98)';
                });
                
                optionElement.addEventListener('touchend', function() {
                    this.style.transform = 'scale(1)';
                });
                
                optionsContainer.appendChild(optionElement);
            });
            
            // Reset UI state
            submitButton.disabled = true;
            feedbackContainer.style.display = 'none';
        }

        // Submit answer
        function submitAnswer() {
            const current = questions[userState.currentQuestion];
            const isCorrect = userState.selectedOption === current.correctIndex;
            
            // Show feedback
            feedbackContainer.style.display = 'block';
            
            if (isCorrect) {
                // Correct answer
                feedbackIcon.className = 'fas fa-check-circle feedback-icon';
                feedbackTitle.textContent = 'Correct Answer!';
                feedbackTitle.parentElement.className = 'feedback-header feedback-correct';
                feedbackMessage.textContent = 'Congratulations! You got this question right.';
                
                // Award XP based on question weight
                let xpEarned = 10;
                if (current.weight === "Instance Configuration (25%)") xpEarned = 15;
                
                userState.xp += xpEarned;
                xpEarnedElement.textContent = `+${xpEarned} XP earned!`;
                
                // Increase streak
                userState.streak++;
                
                // Update category progress
                userState.categoryProgress[current.category]++;
                updateCategoryProgress();
                
                // Check for level up
                checkLevelUp();
            } else {
                // Incorrect answer
                feedbackIcon.className = 'fas fa-times-circle feedback-icon';
                feedbackTitle.textContent = 'Incorrect Answer';
                feedbackTitle.parentElement.className = 'feedback-header feedback-incorrect';
                feedbackMessage.textContent = `The correct answer is: ${current.options[current.correctIndex]}`;
                xpEarnedElement.textContent = '+0 XP earned';
                
                // Reset streak
                userState.streak = 0;
            }
            
            // Show explanation
            explanationElement.textContent = current.explanation;
            
            // Highlight correct and incorrect answers
            document.querySelectorAll('.option').forEach(option => {
                const index = parseInt(option.dataset.index);
                if (index === current.correctIndex) {
                    option.classList.add('correct');
                } else if (index === userState.selectedOption && !isCorrect) {
                    option.classList.add('incorrect');
                }
            });
            
            // Save user progress
            updateStats();
            saveProgress();
        }

        // Update category progress display
        function updateCategoryProgress() {
            progressPlatform.textContent = `${userState.categoryProgress["Platform Overview"]}/12`;
            progressDatabase.textContent = `${userState.categoryProgress["Database Administration"]}/12`;
            progressAutomation.textContent = `${userState.categoryProgress["Self-Service & Automation"]}/9`;
            progressConfig.textContent = `${userState.categoryProgress["Instance Configuration"]}/15`;
            progressIntegration.textContent = `${userState.categoryProgress["Integration & Data Management"]}/12`;
        }

        // Next question
        function nextQuestion() {
            userState.currentQuestion++;
            
            if (userState.currentQuestion < questions.length) {
                loadQuestion();
            } else {
                // Quiz completed
                alert('Congratulations! You have completed all questions!');
                userState.currentQuestion = 0;
                loadQuestion();
            }
        }

        // Check if user leveled up
        function checkLevelUp() {
            const xpNeeded = userState.level * 100;
            if (userState.xp >= xpNeeded) {
                userState.level++;
                alert(`Congratulations! You reached level ${userState.level}!`);
            }
        }

        // Update user stats display
        function updateStats() {
            xpElement.textContent = `${userState.xp} XP`;
            levelElement.textContent = `Level ${userState.level}`;
            streakElement.textContent = `${userState.streak} days`;
        }

        // Save progress to localStorage
        function saveProgress() {
            const progress = {
                xp: userState.xp,
                level: userState.level,
                streak: userState.streak,
                categoryProgress: userState.categoryProgress
            };
            localStorage.setItem('servicenowCSAProgress', JSON.stringify(progress));
        }

        // Event listeners
        submitButton.addEventListener('click', submitAnswer);
        nextButton.addEventListener('click', nextQuestion);

        // Add touch events for mobile buttons
        [submitButton, nextButton].forEach(button => {
            button.addEventListener('touchstart', function() {
                this.style.transform = 'scale(0.95)';
            });
            
            button.addEventListener('touchend', function() {
                this.style.transform = 'scale(1)';
            });
        });

        // Initialize the quiz when page loads
        window.addEventListener('load', initQuiz);
    </script>
</body>
</html>